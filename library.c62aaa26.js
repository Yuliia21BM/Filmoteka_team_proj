var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var a={id:e,exports:{}};return n[e]=a,i.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i),i("kyEFX").register(JSON.parse('{"1zJhX":"library.c62aaa26.js","2O46N":"not-found-gif.2777c0e4.gif","jW8E1":"library.ed65a94c.js"}'));var a=i("kwJfa");const s={mainContainerEl:document.querySelector(".main-section__allcards"),searchForm:document.querySelector(".search"),input_error:document.querySelector(".warning-notification"),watchedBtn:document.querySelector(".header-lib__btn-watched"),queueBtn:document.querySelector(".header-lib__btn-queue"),paginationWrap:document.querySelector(".pagination-container")};var r=i("9TCtp"),o=i("45IZH"),l=(r=i("9TCtp"),i("2nhTy"));const c=new(0,i("04jNI").default),d=[],_=()=>{for(let e=1;e<=20;e+=1)d.push('<li class="cards-skeleton">\n        <div class="movie--isloading">\n          <div class="loading-image"></div>\n          <div class="loading-content">\n            <div class="loading-text-container">\n              <div class="loading-main-text"></div>\n              <div class="loading-sub-text"></div>\n            </div>\n            <div class="loading-btn"></div>\n          </div>\n        </div>\n        </li>');s.mainContainerEl.innerHTML=d.join("")};l.subscribeOnPageChange((()=>{c.enable(),(0,r.getPopularFilm)(l.getCurrentPage()).then((({page:e,results:n,total_pages:t,total_results:i})=>{p(n),c.disable()}))}));async function p(e){_();const n=e.map((e=>function(e){const{poster_path:n,id:t,title:i,genre_ids:a,release_date:s,vote_average:r}=e,l="https://image.tmdb.org/t/p/w500";let c="";const d=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${e.id}">\n        <img src="${e.poster_path?l+e.poster_path:o.defaultPoster.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n  <p class="main-section__popup-title"> <span class = "popUp-title">About</span> <br/>${e.overview?e.overview:"No description"}</p>\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${e.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${e.genre_ids?c:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?e.vote_average.toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`,_=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${e.id}">\n        <img src="${e.poster_path?l+e.poster_path:o.defaultPoster.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n  <p class="main-section__popup-title"> <span class = "popUp-title">About</span> <br/>${e.overview?e.overview:"No description"}</p>\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${e.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${e.genre_ids?c:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?Number(e.vote_average).toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`;if(!a)return c=e.genres,_();c=a.length<=3?a.map((e=>u.get(e))).join(", "):u.get(a[0])+", "+u.get(a[1])+", Other";return d()}(e))).join("");s.mainContainerEl.innerHTML="",s.mainContainerEl.insertAdjacentHTML("beforeend",n)}const u=new Map;(0,r.searchGenres)().then((e=>e.genres.map((({id:e,name:n})=>{u.set(e,n)}))));var g;g=new URL(i("kyEFX").resolve("2O46N"),import.meta.url).toString();const m=()=>{const e=document.createElement("img");e.src=new URL(g),e.alt="Travolta from Pulp Fiction is searching for something",e.class="not-found",s.mainContainerEl.innerHTML=`<div class="no-movies-wrap">\n                ${e.outerHTML}\n                <p>No movies here yet</p>\n            </div>`},v=async e=>{try{const n=localStorage.getItem(e);if(!n||n.length<=2)return void m();let t=await JSON.parse(n);return t.length<20&&!s.paginationWrap.classList.contains("visually-hidden")?s.paginationWrap.classList.add("visually-hidden"):s.paginationWrap.classList.remove("visually-hidden"),console.log("movieList:",t),p(t)}catch(e){console.error("Error: ",e.message)}};s.watchedBtn.addEventListener("click",(()=>{s.watchedBtn.classList.contains("header-lib__btn--current")||(v(a.WATCHED_LIST),s.queueBtn.classList.toggle("header-lib__btn--current"),s.watchedBtn.classList.toggle("header-lib__btn--current"))})),s.queueBtn.addEventListener("click",(()=>{s.queueBtn.classList.contains("header-lib__btn--current")||(v(a.QUEUE_LIST),s.watchedBtn.classList.toggle("header-lib__btn--current"),s.queueBtn.classList.toggle("header-lib__btn--current"))})),s.queueBtn.classList.contains("header-lib__btn--current")&&s.watchedBtn.classList.contains("header-lib__btn--current")?s.queueBtn.classList.contains("header-lib__btn--current")?v(a.QUEUE_LIST):s.watchedBtn.classList.contains("header-lib__btn--current")&&v(a.WATCHED_LIST):(s.queueBtn.classList.toggle("header-lib__btn--current"),v(a.QUEUE_LIST)),i("2nhTy"),i("fUBad"),i("jIH7J"),i("04jNI");
//# sourceMappingURL=library.c62aaa26.js.map
