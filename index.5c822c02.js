function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},n.parcelRequired7c6=r),r.register("kyEFX",(function(t,n){var o,a;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("hbpud",(function(t,n){e(t.exports,"openModal",(function(){return b}));var o=r("9TCtp"),a=r("exKmb"),i=r("a85TQ"),l=r("45IZH"),s=r("kwJfa"),c=r("04jNI"),d=r("4f5VL");const u=new(0,c.default);var m=r("9B8F0");document.querySelector(".main-section__allcards").addEventListener("click",(e=>{b(e,"main-section__card")}));const f=async()=>{try{const e=window.location.pathname;console.log("this is pathname in refreshLibList:",e);const t=await JSON.parse(localStorage.getItem("active-tab"));console.log("this is parsedActiveTab in refreshLibList:",t),(async(e,t)=>{if("/library.html"===e&&"Queue"===t)return console.log("it's pathname check on queue & active tab:",e,t),void await(0,d.loadFromStorage)(s.QUEUE_LIST);"/library.html"===e&&"Watched"===t&&(console.log("it's pathname check on watched & active tab:",e,t),await(0,d.loadFromStorage)(s.WATCHED_LIST))})(e,t)}catch(e){console.log(e.message)}};async function p(e){const t=await JSON.parse(localStorage.getItem(e)),n=!(!t||t==[]);return console.log(n),!!n&&(console.log(t),t)}function b(e,t){if(!e.target.parentNode.classList.contains(t))return;u.enable();const n=e.target.parentNode.dataset.filmId;(0,o.searchMovieById)(n).then((({poster_path:e,title:t,genres:o,vote_count:r,vote_average:c,popularity:d,original_title:b,overview:h})=>{const _=o?o.map((e=>e.name)).join(", "):"Unknown",v={onShow:()=>{document.body.classList.add("hide-scroll"),document.addEventListener("keydown",w)},onClose:()=>{document.body.classList.remove("hide-scroll"),y.removeEventListener("click",(()=>{watchBtn.removeEventListener("click",i.addWatch),queueBtn.removeEventListener("click",i.addQueue),document.removeEventListener("keydown",w),g.close()})),f()}},g=m.create(`\n        <div class="film-modal">\n                <button class="film-modal__close-btn" type="button"></button>\n                <div class="film-modal__poster-wrapper"><img class="film-modal__poster" src="${e?"https://image.tmdb.org/t/p/w500"+e:""}" alt="Movie ${t||"Unknown title"} poster" /></div>\n                <div class="film-modal__wrapper">\n                  <div class="film-modal__info-wrapper">\n                    <h2 class="film-modal__title">${t||"Unknown title"}</h2>\n                    <ul class="film-modal__info-list">\n                        <li class="film-modal__info-item">\n                            <h3 class="film-modal__info-title">Vote/Votes</h3>\n                            <p class="film-modal__info-text"><span class="film-modal__info-text--vote">${c?c.toFixed(1):"--"}</span>  <span class="film-modal__info-text--slash">/</span> <span class="film-modal__info-text--vote film-modal__info-text--vote-count">${r||"--"}</p></span>\n                        </li>\n                        <li class="film-modal__info-item">\n                            <h3 class="film-modal__info-title">Popularity</h3>\n                            <p class="film-modal__info-text">${d?d.toFixed(1):"--"}</p>\n                        </li>\n                        <li class="film-modal__info-item">\n                            <h3 class="film-modal__info-title">Original Title</h3>\n                            <p class="film-modal__info-text">${b||"Unknown"}</p>\n                        </li>\n                        <li class="film-modal__info-item">\n                            <h3 class="film-modal__info-title">Genre</h3>\n                            <p class="film-modal__info-text">${_}</p>\n                        </li>\n                        <li class="film-modal__info-item">\n                            <h3 class="film-modal__info-title">Trailer</h3>\n\n                            <p id="trailerBtns-wrapper" class="film-modal__info-text"><button class="film-modal__trailer-btn" type="button" data-id="${n}">Watch trailer<span class="triangle-right"></span></button></p>\n\n                        </li>\n                    </ul>\n                    <h3 class="film-modal__title-about">About</h3>\n                    <p class="film-modal__text-about">${h||"No description"}</p>\n                    </div>  \n                <div class="film-modal__add-btns-wrapper">\n                  <button class="film-modal__add-btns btn-add-watched hover-modal-btn trailer-btn" type="button" data-id="${n}">Add to Watched</button>\n                  <button class="film-modal__add-btns btn-add-queue film-modal__add-btns--seconadry-btn hover-modal-btn" type="button" data-id="${n}">Add to queue</button>\n                </div>\n                </div>\n        </div>`,v);if(g.show(),u.disable(),(0,a.buildTrailerBtns)(n,g),e||(document.querySelector(".film-modal__poster").remove(),document.querySelector(".film-modal__poster-wrapper").appendChild(l.defaultPoster).classList.add("film-modal__poster")),g.visible()){const e=document.querySelector("button.btn-add-watched"),t=document.querySelector("button.btn-add-queue");e.addEventListener("click",i.addWatch),t.addEventListener("click",i.addQueue),p(s.WATCHED_LIST).then((e=>{console.log(e,"watched"),e&&e!==[]&&e.forEach((e=>{e.id!==+n||function(){const e=document.querySelector("button.btn-add-watched");e.textContent="REMOVE FROM WATCHED"}()}))})),p(s.QUEUE_LIST).then((e=>{e&&e!==[]&&e.map((e=>{console.log(e.id!==n,"item.id !== filmId"),e.id!==+n||function(){const e=document.querySelector("button.btn-add-queue");e.textContent="REMOVE FROM QUEUE"}()}))}))}function w(e){"Escape"===e.key&&g.close()}const y=document.querySelector(".film-modal__close-btn");y.appendChild(l.iconCross),y.addEventListener("click",(()=>g.close()))}))}})),r.register("exKmb",(function(n,o){e(n.exports,"buildTrailerBtns",(function(){return s}));var a=r("9TCtp"),i=r("9B8F0"),l=r("cgdCD");document.querySelector(".main-section__allcards");async function s(e,n){const o=await(0,a.searchTrailerById)(e),r=document.querySelector("#trailerBtns-wrapper");if(0===o.results.length)return void(r.innerHTML="No trailers are found");const s=o.results.slice(0,1).map(((e,o)=>{const a=document.createElement("button");return a.innerHTML='Watch trailer<span class="triangle-right"></span>',a.classList.add("film-modal__trailer-btn"),a.addEventListener("click",(()=>function(e,n){n.close();const o={onShow:()=>{document.addEventListener("keydown",r)},onClose:()=>{document.removeEventListener("keydown",r),n.show()}},a=i.create(`\n  <div id="trailer-modal" data-modal>\n  <button class="film-modal__close-btn" type="button" trailer-modal-close>\n   <img class="cross-button__icon" src="${t(l)}" />\n  </button>\n  <iframe\n    id="trailer-iframe"\n   \n    title="YouTube video player"\n    frameborder="0"\n    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n    allowfullscreen\n  ></iframe> \n</div>`,o);function r(e){"Escape"===e.key&&(a.close(),n.show())}a.show(),document.querySelector("#trailer-iframe").src=`https://www.youtube.com/embed/${e}`,document.querySelector("[trailer-modal-close]").addEventListener("click",(()=>{a.close(),n.show()}))}(e.key,n))),a}));r.innerHTML="",r.append(...s)}})),r.register("9B8F0",(function(e,t){e.exports=function e(t,n,o){function a(i,l){if(!n[i]){if(!t[i]){var s=void 0;if(!l&&s)return s(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,(function(e){return a(t[i][1][e]||e)}),d,d.exports,e,t,n,o)}return n[i].exports}for(var r=void 0,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},a=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},r=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=r,n.create=function(e,t){var n=function(e,t){var n=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),r=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return r.appendChild(e)}));var i=a(r,"IMG"),l=a(r,"VIDEO"),s=a(r,"IFRAME");return!0===i&&n.classList.add("basicLightbox--img"),!0===l&&n.classList.add("basicLightbox--video"),!0===s&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),i=function(e){return!1!==t.onClose(l)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===r(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(l)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&i()}));var l={element:function(){return n},visible:function(){return r(n)},show:function(e){return!1!==t.onShow(l)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(l)}))},close:i};return l}},{}]},{},[1])(1)})),r.register("cgdCD",(function(e,t){e.exports=new URL(r("kyEFX").resolve("dFWAL"),import.meta.url).toString()})),r.register("a85TQ",(function(t,n){e(t.exports,"addWatch",(function(){return i})),e(t.exports,"addQueue",(function(){return l}));var o=r("9TCtp"),a=r("kwJfa");async function i(e){const t=e.currentTarget.dataset.id;try{const n=await s(t);if(!n)return;const o=JSON.parse(localStorage.getItem(a.WATCHED_LIST))||[];let r=!1;o.forEach((t=>{if(t.id===n.id){const n=o.indexOf(t);o.splice(n,1),r=!0,e.target.textContent="ADD TO WATCHED"}})),r||(o.push(n),e.target.textContent="REMOVE FROM WATCHED"),localStorage.setItem(a.WATCHED_LIST,JSON.stringify(o))}catch(e){console.log(e)}}async function l(e){const t=e.currentTarget.dataset.id;try{const n=await s(t);if(!n)return;const o=JSON.parse(localStorage.getItem(a.QUEUE_LIST))||[];let r=!1;o.forEach((t=>{if(t.id===n.id){const n=o.indexOf(t);o.splice(n,1),r=!0,e.target.textContent="ADD TO QUEUE"}})),r||(o.push(n),e.target.textContent="REMOVE FROM QUEUE"),localStorage.setItem(a.QUEUE_LIST,JSON.stringify(o))}catch(e){console.log(e)}}async function s(e){try{const t="https://image.tmdb.org/t/p/w500",n=await(0,o.searchMovieById)(e);return{id:n.id,title:`${n.title?n.title:"Unknown"}`,poster_path:`${n.poster_path?t+n.poster_path:"../images/default-poster.jpg"}`,genres:`${n.genres?c(n.genres):"Unknown"}`,vote_average:`${n.vote_average?n.vote_average.toFixed(1):"0"}`,release_date:`${n.release_date?n.release_date.slice(0,4):"n/a"}`}}catch(e){throw e}}function c(e){const t=e.map((e=>e.name)).join(", ").split(",");return t.length>3?`${t.slice(0,1)}, Other`:t}})),r("kyEFX").register(JSON.parse('{"5ZPII":"index.5c822c02.js","dFWAL":"close-modal-film-icon.d349cae7.svg","fLr4C":"library.9d6466ce.js"}')),r("kwJfa"),r("9TCtp"),r("04jNI"),r("hbpud"),r("exKmb");new Swiper(".team-swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});(()=>{const e={openModalBtn:document.querySelector("[data-team-modal-open]"),closeModalBtn:document.querySelector("[data-team-modal-close]"),modal:document.querySelector("[data-team-modal]"),body:document.querySelector("body")};function t(){e.modal.classList.toggle("is-hidden-team"),e.body.classList.toggle("no-scroll")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})(),r("fUBad"),r("a85TQ"),r("jIH7J");
//# sourceMappingURL=index.5c822c02.js.map
