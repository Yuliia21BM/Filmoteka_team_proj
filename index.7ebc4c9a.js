var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequired7c6=r),r("kyEFX").register(JSON.parse('{"hZ8Bi":"index.7ebc4c9a.js","1aYh8":"default-poster.e76d256b.jpg"}'));var i=r("9TCtp"),a=r("hbpud");const o=document.querySelector(".swiper-wrapper");new Swiper(".swiper",{direction:"horizontal",slidesPerView:2,spaceBetween:20,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},speed:1500,autoplay:{delay:3e3},breakpoints:{768:{slidesPerView:4,spaceBetween:20},1024:{slidesPerView:5,spaceBetween:20}}});!async function(){try{const{results:e}=await(0,i.searchUpcomimgFilms)();if(!e||e===[])return;const n=e.map((e=>`\n      <li class="upcoming-card swiper-slide" data-film-id="${e.id}">\n        <img\n          src="${e.poster_path?"https://image.tmdb.org/t/p/w500"+e.poster_path:"../images/default-poster.jpg"}"\n          alt="${e.title?e.title:"Not known"}"\n          class="upcoming-img"\n          loading="lazy"\n        />\n        <p class="upcoming-card-title">Release date <br/>\n${e.release_date?e.release_date:"Not known"}</p>\n      </li>`)).join("");o.innerHTML="",o.insertAdjacentHTML("afterbegin",n)}catch(e){console.log(e)}}(),o.addEventListener("click",(e=>{(0,a.openModal)(e,"upcoming-card")}));i=r("9TCtp"),i=r("9TCtp");const s={mainContainerEl:document.querySelector(".main-section__allcards"),searchForm:document.querySelector(".search"),input_error:document.querySelector(".warning-notification")};async function c(e){const n=e.map((e=>function(e){const n="https://image.tmdb.org/t/p/w500";let t="",r=document.createElement("img");r.src=new URL(l),t=e.genre_ids.length<=2?e.genre_ids.map((e=>d.get(e))).join(", "):d.get(e.genre_ids[0])+", "+d.get(e.genre_ids[1])+", Other";return`\n  <div class="main-section__card" data-film-id="${e.id}">\n        <img src="${e.poster_path?n+e.poster_path:r.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n    <div>\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                    <div class="main-section__cards">\n\t\t\t\t\t<p class="main-section__description">${e.genre_ids?t:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}</p>\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?e.vote_average.toFixed(1):"0"}</span></div>\n                </div>\n                \n    </div>`}(e))).join("");s.mainContainerEl.innerHTML="",s.mainContainerEl.insertAdjacentHTML("beforeend",n)}var l;l=new URL(r("kyEFX").resolve("1aYh8"),import.meta.url).toString();const d=new Map;(0,i.searchGenres)().then((e=>e.genres.map((({id:e,name:n})=>{d.set(e,n)}))));var u=r("45IZH");document.querySelector(".search__input"),document.querySelector(".search__button");const m=document.querySelector(".search"),p=document.querySelector(".warning-notification"),g=document.querySelector(".main-section__allcards");m.addEventListener("submit",(async function(e){e.preventDefault();const n=e.currentTarget.searchQuery.value.trim();if(console.log(n),""===n)return p.textContent="No matches found for your query. Enter the correct movie name.";p.textContent="";try{const e=(await(0,i.searchMovieByName)(n)).results;if(console.log(e),0===e.length)return p.textContent="No matches found for your query. Enter the correct movie name.",g.innerHTML=" ",g.innerHTML='<div class="wrong-box"> <p class="not-found-text">Not Found</p></div>',document.querySelector(".wrong-box").appendChild(u.notFoundFilm).classList.add("film-not-found"),document.querySelector(".pagination-container").classList.add("visually-hidden");p.textContent="",document.querySelector(".pagination-container").classList.remove("visually-hidden"),c(e)}catch(e){console.log(e)}}));var h=r("kwJfa");const _=`${(h=r("kwJfa")).BASE_URL}/discover/movie?api_key=${h.API_KEY}`,f=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],y=document.querySelector(".genres-list");let v=[];function w(e){fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length&&c(e.results)}))}f.forEach((e=>{const n=document.createElement("button");n.classList.add("genres-button"),n.id=e.id,n.innerText=e.name,n.addEventListener("click",(()=>{0==v.length&&v.push(e.id),console.log("selectedGenre"+v),w(_+"&with_genres="+v),v=[]})),y.append(n)})),w(_);i=r("9TCtp");var b=r("2nhTy");const E=()=>{(0,i.getPopularFilm)(b.getCurrentPage()).then((({page:e,results:n,total_pages:t,total_results:r})=>{c(n)}))};E(),b.subscribeOnPageChange(E);
//# sourceMappingURL=index.7ebc4c9a.js.map
