!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("iE7OH").register(JSON.parse('{"bc4bY":"index.563f6619.js","5tlci":"not-found-gif.2777c0e4.gif"}'));var i=o("sRYpV"),a=o("gSlC7");const r=document.querySelector(".swiper-wrapper");!async function(){try{const{results:e}=await(0,i.searchUpcomimgFilms)();if(!e||e===[])return;const t=e.map((e=>`\n      <li class="upcoming-card swiper-slide" data-film-id="${e.id}">\n        <img\n          src="${e.poster_path?"https://image.tmdb.org/t/p/w500"+e.poster_path:"../images/default-poster.jpg"}"\n          alt="${e.title?e.title:"Not known"}"\n          class="upcoming-img"\n          loading="lazy"\n        />\n        <p class="upcoming-card-title">Release date <br/>\n${e.release_date?e.release_date:"Not known"}</p>\n      </li>`)).join("");r.innerHTML="",r.insertAdjacentHTML("afterbegin",t);new Swiper(".swiper",{direction:"horizontal",slidesPerView:"auto",loopedSlides:e.length,spaceBetween:20,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},speed:1500,autoplay:{delay:3e3,disableOnInteraction:!1}})}catch(e){console.log(e)}}(),r.addEventListener("click",(e=>{(0,a.openModal)(e,"upcoming-card")}));i=o("sRYpV"),i=o("sRYpV");const s={mainContainerEl:document.querySelector(".main-section__allcards"),searchForm:document.querySelector(".search"),input_error:document.querySelector(".warning-notification"),watchedBtn:document.querySelector(".header-lib__btn-watched"),queueBtn:document.querySelector(".header-lib__btn-queue"),paginationWrap:document.querySelector(".pagination-container")};var c=o("3dy0j");async function d(e){const t=e.map((e=>function(e){const{poster_path:t,id:n,title:o,genre_ids:i,release_date:a,vote_average:r}=e,s="https://image.tmdb.org/t/p/w500";let d="";const u=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${e.id}">\n        <img src="${e.poster_path?s+e.poster_path:c.defaultPoster.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n  <p class="main-section__popup-title"> <span class = "popUp-title">About</span> <br/>${e.overview?e.overview:"No description"}</p>\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${e.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${e.genre_ids?d:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?e.vote_average.toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`,m=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${e.id}">\n        <img src="${e.poster_path?s+e.poster_path:c.defaultPoster.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${e.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${e.genres?d:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?Number(e.vote_average).toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`;if(!i)return d=e.genres,m();d=i.length<=3?i.map((e=>l.get(e))).join(", "):l.get(i[0])+", "+l.get(i[1])+", Other";return u()}(e))).join("");s.mainContainerEl.innerHTML="",s.mainContainerEl.insertAdjacentHTML("beforeend",t)}const l=new Map;(0,i.searchGenres)().then((e=>e.genres.map((({id:e,name:t})=>{l.set(e,t)}))));o("aNJCr").getBundleURL("bc4bY"),o("iE7OH").resolve("5tlci");const u=document.querySelector('[data-index="1"]'),m=document.querySelector('[data-index="2"]'),p=document.querySelector('[data-index="3"]'),g=document.querySelector('[data-index="4"]'),h=document.querySelector('[data-index="5"]'),_=document.querySelector(".first-button"),f=document.querySelector(".last-button"),b=document.querySelector(".pagination-container"),x=document.querySelector(".arrow-right"),v=document.querySelector(".arrow-left"),y=document.querySelector("#previous"),C=document.querySelector("#after"),w=document.querySelector(".main-container");b.addEventListener("click",(function(e){if("BUTTON"===e.target.tagName){Number(e.target.textContent)&&(N=Number(e.target.textContent)),y.hidden=!0,C.hidden=!0,e.target.classList.contains("pagination-button")&&(L.forEach((e=>e.classList.remove("pagination--current"))),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&N<q&&(L.forEach((e=>e.classList.remove("pagination--current"))),u.classList.add("pagination--current"),u.textContent=Number(u.textContent)+5,m.textContent=Number(m.textContent)+5,p.textContent=Number(p.textContent)+5,g.textContent=Number(g.textContent)+5,h.textContent=Number(h.textContent)+5,N=Number(u.textContent)),e.target.classList.contains("arrow-left")&&N>=5&&(L.forEach((e=>e.classList.remove("pagination--current"))),u.textContent=Number(u.textContent)-5,m.textContent=Number(m.textContent)-5,p.textContent=Number(p.textContent)-5,g.textContent=Number(g.textContent)-5,h.textContent=Number(h.textContent)-5,h.classList.add("pagination--current"),N=Number(h.textContent)),e.target.classList.contains("first-button")&&(L.forEach((e=>e.classList.remove("pagination--current"))),u.textContent=1,m.textContent=2,p.textContent=3,g.textContent=4,h.textContent=5,u.classList.add("pagination--current"),N=Number(u.textContent),v.hidden=!0,y.hidden=!0,_.hidden=!0),e.target.classList.contains("last-button")&&(L.forEach((e=>e.classList.remove("pagination--current"))),u.textContent=Number(f.textContent)-4,m.textContent=Number(f.textContent)-3,p.textContent=Number(f.textContent)-2,g.textContent=Number(f.textContent)-1,h.textContent=f.textContent,h.classList.add("pagination--current"),N=Number(h.textContent),x.hidden=!0,C.hidden=!0,f.hidden=!0),Number(N)>5?(v.hidden=!1,y.hidden=!1,_.hidden=!1):(v.hidden=!0,y.hidden=!0,_.hidden=!0),Number(N)<q-4&&(x.hidden=!1,C.hidden=!1,f.hidden=!1),w.scrollIntoView({behavior:"smooth"}),S&&S()}}));let S,N=1,q=1e3,L=document.querySelectorAll(".pagination-button");function E(e){N=e,L.forEach((e=>e.classList.remove("pagination--current"))),u.classList.add("pagination--current")}function $(e){q=e,f.textContent=q}function H(){return isNaN(N)&&(N=1),console.log("currentPage",N),+N}function R(e){S=e}y.hidden=!0,v.hidden=!0,_.hidden=!0,console.log("paginationInit"),console.log("subscriber",S),console.log("CurrentPage",N);c=o("3dy0j");const T=document.querySelector(".search__input"),k=(document.querySelector(".search__button"),document.querySelector(".search")),F=document.querySelector(".warning-notification"),U=document.querySelector(".main-section__allcards");async function j(e){if(""===e)return F.textContent="No matches found for your query. Enter the correct movie name.";F.textContent="";try{const t=await(0,i.searchMovieByName)(e,H());$(t.total_pages);const n=t.results;if(console.log(t),console.log(n),0===n.length)return F.textContent="No matches found for your query. Enter the correct movie name.",U.innerHTML=" ",U.innerHTML='<div class="wrong-box"> <p class="not-found-text">Not Found</p></div>',document.querySelector(".wrong-box").appendChild(c.notFoundFilm).classList.add("film-not-found"),document.querySelector(".pagination-container").classList.add("visually-hidden");F.textContent="",document.querySelector(".pagination-container").classList.remove("visually-hidden"),d(n)}catch(e){console.log(e)}}k.addEventListener("submit",(async function(e){e.preventDefault(),U.scrollIntoView({behavior:"smooth"});const t=e.currentTarget.searchQuery.value.trim();console.log(t),await j(t),E(),R((()=>{j(T.value),console.log(T.value,T.text,"subscriberTextContent")}))}));var A=o("ebqVR");const M=`${(A=o("ebqVR")).BASE_URL}/discover/movie?api_key=${A.API_KEY}`,O=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],V=document.querySelector(".genres-list"),B=document.querySelector(".genres-button-mobile");let P=[];function Y(e,t){e=e+"&page="+t,console.log("ссылка",e),console.log("страница",t),fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),console.log(e.page),0!==e.results.length&&(d(e.results),$(e.total_pages))}))}O.forEach((e=>{const t=document.createElement("button");t.classList.add("genres-button"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(()=>{0==P.length&&P.push(e.id),console.log("selectedGenre"+P),Y(M+"&with_genres="+e.id,1),E(),R((()=>{Y(M+"&with_genres="+e.id,H())})),P=[]})),V.append(t)})),B.addEventListener("click",(function(){V.classList.toggle("is-active")?B.textContent="HIDE GENRES":B.textContent="SHOW GENRES"}));i=o("sRYpV");const D=new(0,o("j1lrD").default),I=()=>{D.enable(),(0,i.getPopularFilm)(H()).then((({page:e,results:t,total_pages:n,total_results:o})=>{d(t),D.disable()}))};I(),R(I)}();
//# sourceMappingURL=index.563f6619.js.map
