{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iNCAzD,IAAAC,EAAAJ,EAAA,SCAO,MAAMK,EAAO,CAChBC,gBAAiBC,SAASC,cAAc,2BACxCC,WAAYF,SAASC,cAAc,WACnCE,YAAaH,SAASC,cAAc,0BCHxC,IAAAG,EAAAX,EAAA,SCAiB,IAAAY,IAAoBZ,EAAA,SAAAa,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WDsD5F,MAAMC,EAAY,IAAIC,KAEtB,EAAAR,EAAAS,gBAAeC,MAAKC,GACXA,EAAIC,OAAOC,KAAI,EAACC,GAAEA,EAAEC,KAAEA,MAC3BR,EAAUS,IAAIF,EAAIC,EAAA,M,ME1DtBE,EAAiB,IAAAhB,IAAoBZ,EAAA,SAAAa,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WF8DrF,MAAMY,EAAuB,KAClC,IAAIC,EAAcvB,SAASwB,cAAc,OACzCD,EAAYE,IAAG,IAAApB,IAAAgB,GAEfE,EAAYG,IAAM,wDAElB5B,EAAKC,gBAAgB4B,UAAY,iDACjBJ,EAAYK,0EAEX,EFxCnBC,aAAaC,QAAQjC,EAAAkC,WAAYpC,KAAKqC,UArBxB,CACZ,CACEd,GAAI,EACJe,MAAO,cACPC,MAAO,0BACPC,OACE,gIACFC,OAAQ,IACRC,KAAM,MAER,CACEnB,GAAI,EACJe,MAAO,cACPC,MAAO,0BACPC,OACE,gIACFC,OAAQ,IACRC,KAAM,SKxBqB,CAAAC,IAC7B,IACE,MAAMC,EAAYV,aAAaW,QAAQF,GAGrB,OAAdC,EACFjB,IAIK3B,KAAKC,MAAM2C,EAGpB,CAFE,MAAOE,GACPC,QAAQD,MAAM,UAAWA,EAAME,QACjC,GLyBgB,CAAgB9C,EAAAkC","sources":["node_modules/@parcel/runtime-js/lib/runtime-424ebe210b606c4d.js","src/js/library-queue-list.js","src/js/refs.js","src/js/render-card.js","node_modules/@parcel/runtime-js/lib/runtime-bd5c34c18d96e10a.js","node_modules/@parcel/runtime-js/lib/runtime-3709e3bb493177d0.js","src/js/localstorage-load-films.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.ac568327.js\\\",\\\"1aYh8\\\":\\\"default-poster.e76d256b.jpg\\\",\\\"2O46N\\\":\\\"not-found-gif.2777c0e4.gif\\\",\\\"gNN8M\\\":\\\"library.cd53fb3f.js\\\"}\"));","import { QUEUE_LIST } from './config';\nimport { refs } from './refs';\nimport {\n  createElementsMovie,\n  renderNoMoviesMarkup,\n  clearMarkup,\n} from './render-card';\nimport { loadFromStorage } from './localstorage-load-films';\n\n// -------------üëá–¶–µ mockup data, –ø–æ–∫–∏ –Ω–µ–º–∞—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ localStorage ------------\nconst movie = [\n  {\n    id: 1,\n    title: 'Test Movie1',\n    genre: 'Drama, Family, Thriller',\n    poster:\n      'https://zolushka.com.ua/content/images/49/490x490l80mc0/miaka-ihrashka-imbyrne-pechyvo-art.tt1008-titatin-60938694502129.webp',\n    rating: 6.2,\n    date: 2011,\n  },\n  {\n    id: 2,\n    title: 'Test Movie2',\n    genre: 'Comedy, Family, Romance',\n    poster:\n      'https://zolushka.com.ua/content/images/49/490x490l80mc0/miaka-ihrashka-imbyrne-pechyvo-art.tt1008-titatin-32211140489658.webp',\n    rating: 7.8,\n    date: 2008,\n  },\n];\n\nlocalStorage.setItem(QUEUE_LIST, JSON.stringify(movie));\n// localStorage.removeItem(QUEUE_LIST);\n// -------------‚òù–¶–µ mockup data, –ø–æ–∫–∏ –Ω–µ–º–∞—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ localStorage -------------\n/**TEST */\n// clearMarkup(refs.mainContainerEl);\n// renderNoMoviesMarkup();\n/**TEST */\n\n// STARTS HERE <================================================================<<<<\n\nconst movieList = loadFromStorage(QUEUE_LIST);\n\n// clearMarkup(refs.mainContainerEl);\n\n// queueList.map(movie => {\n//   const { title, genre, poster, rating, date } =\n//     movie;\n\n//   refs.mainContainerEl.insertAdjacentHTML(\n//     'beforeend',\n//     `    <div class=\"main-section__card\">\n//         <img src=\"${poster}\" alt=\"${title}\" class=\"main-section__image\" loading=\"lazy\">\n\n// \t\t\t\t\t<h2 class=\"main-section__card-title\">${title}</h2>\n//                     <div class=\"main-section__cards\">\n// \t\t\t\t\t<p class=\"main-section__description\">${movieGenres} | ${date}</p>\n//                 <span class=\"main-section__card-rating\">${rating}</span>\n//                 </div>\n\n//     </div>`\n//   );\n// });\n","export const refs = {\n    mainContainerEl: document.querySelector('.main-section__allcards'),\n    searchForm: document.querySelector('.search'),\n    input_error: document.querySelector('.warning-notification'),\n    \n}\n\n","import { searchGenres } from './fetchApi';\nimport { refs } from './refs';\n\nexport async function renderFilmCards(elem) {\n  const allCards = elem\n    .map(film => {\n      return createElementsMovie(film);\n    })\n    .join('');\n\n  refs.mainContainerEl.innerHTML = '';\n  refs.mainContainerEl.insertAdjacentHTML('beforeend', allCards);\n}\n\nexport function createElementsMovie(data) {\n  const POSTER_URL = 'https://image.tmdb.org/t/p/w500';\n  let genreFilm = '';\n  let img = document.createElement('img');\n\n  img.src = new URL('../images/default-poster.jpg', import.meta.url);\n\n  if (data.genre_ids.length <= 2) {\n    genreFilm = data.genre_ids.map(genre => allGenres.get(genre)).join(', ');\n  } else {\n    genreFilm =\n      allGenres.get(data.genre_ids[0]) +\n      ', ' +\n      allGenres.get(data.genre_ids[1]) +\n      ', Other';\n  }\n  return `\n  <div class=\"main-section__card\" data-film-id=\"${data.id}\">\n        <img src=\"${\n          data.poster_path ? POSTER_URL + data.poster_path : img.src\n        }\" alt=\"${\n    data.title ? data.title : 'Unknown'\n  }\" class=\"main-section__image\" loading=\"lazy\">\n    <div>\n\t\t\t\t\t<h2 class=\"main-section__card-title\">${\n            data.title ? data.title : 'Unknown title'\n          }</h2>\n                    <div class=\"main-section__cards\">\n\t\t\t\t\t<p class=\"main-section__description\">${\n            data.genre_ids ? genreFilm : 'Unknown'\n          } | ${data.release_date ? data.release_date.slice(0, 4) : 'n/a'}</p>\n\t\t\t\t\n                <span class=\"main-section__card-rating\">${\n                  data.vote_average ? data.vote_average.toFixed(1) : '0'\n                }</span></div>\n                </div>\n                \n    </div>`;\n}\n\nconst allGenres = new Map();\n\nsearchGenres().then(res => {\n  return res.genres.map(({ id, name }) => {\n    allGenres.set(id, name);\n  });\n});\n\nexport const renderNoMoviesMarkup = () => {\n  let notFoundGIF = document.createElement('img');\n  notFoundGIF.src = new URL('../images/not-found-gif.gif', import.meta.url);\n\n  notFoundGIF.alt = 'Travolta from Pulp Fiction is searching for something';\n\n  refs.mainContainerEl.innerHTML = `<div class=\"no-movies-wrap\">\n                ${notFoundGIF.outerHTML}\n                <p>No movies here yet</p>\n            </div>`;\n};\n\nexport const clearMarkup = el => {\n  el.innerHTML = '';\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1aYh8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2O46N\")).toString();","import { renderNoMoviesMarkup } from './render-card';\n\n// Returns parsed data from Local Storage\nexport const loadFromStorage = key => {\n  try {\n    const savedData = localStorage.getItem(key);\n\n    // If there are no movies added to list in Local Storage, show Travolta GIF from Pulp Fiction\n    if (savedData === null) {\n      renderNoMoviesMarkup();\n      return;\n    }\n\n    return JSON.parse(savedData);\n  } catch (error) {\n    console.error('Error: ', error.message);\n  }\n};\n"],"names":["parcelRequire","register","JSON","parse","$kwJfa","$ee27a4d7c64fc8c4$export$21666b427502ea6d","mainContainerEl","document","querySelector","searchForm","input_error","$9TCtp","URL","resolve","import","meta","url","toString","$5c9ec74aeed8cd43$var$allGenres","Map","searchGenres","then","res","genres","map","id","name","set","$3fc730a2dd74fd3f$exports","$5c9ec74aeed8cd43$export$8e1999a21786fe69","notFoundGIF","createElement","src","alt","innerHTML","outerHTML","localStorage","setItem","QUEUE_LIST","stringify","title","genre","poster","rating","date","key","savedData","getItem","error","console","message"],"version":3,"file":"library.ac568327.js.map"}