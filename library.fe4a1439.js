var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"1zJhX":"library.fe4a1439.js","2O46N":"not-found-gif.2777c0e4.gif","jW8E1":"library.ed65a94c.js"}'));var i=a("kwJfa");const r={mainContainerEl:document.querySelector(".main-section__allcards"),searchForm:document.querySelector(".search"),input_error:document.querySelector(".warning-notification"),watchedBtn:document.querySelector(".header-lib__btn-watched"),queueBtn:document.querySelector(".header-lib__btn-queue"),paginationWrap:document.querySelector(".pagination-container")};var s=a("9TCtp"),o=a("45IZH");async function c(e){const t=e.map((e=>function(e){const{poster_path:t,id:n,title:a,genre_ids:i,release_date:r,vote_average:s}=e,c="https://image.tmdb.org/t/p/w500";let d="";const _=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${e.id}">\n        <img src="${e.poster_path?c+e.poster_path:o.defaultPoster.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n  <p class="main-section__popup-title"> <span class = "popUp-title">About</span> <br/>${e.overview?e.overview:"No description"}</p>\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${e.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${e.genre_ids?d:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?e.vote_average.toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`,u=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${e.id}">\n        <img src="${e.poster_path?c+e.poster_path:o.defaultPoster.src}" alt="${e.title?e.title:"Unknown"}" class="main-section__image" loading="lazy">\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${e.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${e.title?e.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${e.genres?d:"Unknown"} | ${e.release_date?e.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${e.vote_average?Number(e.vote_average).toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`;if(!i)return d=e.genres,u();d=i.length<=3?i.map((e=>l.get(e))).join(", "):l.get(i[0])+", "+l.get(i[1])+", Other";return _()}(e))).join("");r.mainContainerEl.innerHTML="",r.mainContainerEl.insertAdjacentHTML("beforeend",t)}const l=new Map;(0,s.searchGenres)().then((e=>e.genres.map((({id:e,name:t})=>{l.set(e,t)}))));var d;d=new URL(a("kyEFX").resolve("2O46N"),import.meta.url).toString();const _=()=>{const e=document.createElement("img");e.src=new URL(d),e.alt="Travolta from Pulp Fiction is searching for something",e.class="not-found",r.mainContainerEl.innerHTML=`<div class="no-movies-wrap">\n                ${e.outerHTML}\n                <p>No movies here yet</p>\n            </div>`},u=async e=>{try{const t=localStorage.getItem(e);if(!t||t.length<=2)return void _();let n=await JSON.parse(t);return n.length<20&&!r.paginationWrap.classList.contains("visually-hidden")?r.paginationWrap.classList.add("visually-hidden"):r.paginationWrap.classList.remove("visually-hidden"),console.log("movieList:",n),c(n)}catch(e){console.error("Error: ",e.message)}};r.watchedBtn.addEventListener("click",(async()=>{if(!r.watchedBtn.classList.contains("header-lib__btn--current")){await u(i.WATCHED_LIST);try{const e=r.watchedBtn.textContent;await localStorage.setItem("active-tab",JSON.stringify(e))}catch(e){console.error("Error: ",e.message)}r.queueBtn.classList.toggle("header-lib__btn--current"),r.watchedBtn.classList.toggle("header-lib__btn--current")}})),r.queueBtn.addEventListener("click",(async()=>{if(!r.queueBtn.classList.contains("header-lib__btn--current")){await u(i.QUEUE_LIST);try{const e=r.queueBtn.textContent;await localStorage.setItem("active-tab",JSON.stringify(e))}catch(e){console.error("Error: ",e.message)}r.watchedBtn.classList.toggle("header-lib__btn--current"),r.queueBtn.classList.toggle("header-lib__btn--current")}})),(async()=>{try{const e=await JSON.parse(localStorage.getItem("active-tab"));if(e===r.queueBtn.textContent)return r.queueBtn.classList.toggle("header-lib__btn--current"),await u(i.QUEUE_LIST);if(e===r.watchedBtn.textContent)r.watchedBtn.classList.toggle("header-lib__btn--current"),await u(i.WATCHED_LIST)}catch(e){console.log(e.message)}})(),a("2nhTy"),a("fUBad"),a("jIH7J"),a("04jNI");
//# sourceMappingURL=library.fe4a1439.js.map
