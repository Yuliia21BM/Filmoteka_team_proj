!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},a=t.parcelRequired7c6;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in n){var a=n[t];delete n[t];var i={id:t,exports:{}};return e[t]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequired7c6=a),a("iE7OH").register(JSON.parse('{"2Y0K8":"library.729dd251.js","5tlci":"not-found-gif.2777c0e4.gif","5WzhC":"library.ae685163.js"}'));var i=a("ebqVR");const r={mainContainerEl:document.querySelector(".main-section__allcards"),searchForm:document.querySelector(".search"),input_error:document.querySelector(".warning-notification"),watchedBtn:document.querySelector(".header-lib__btn-watched"),queueBtn:document.querySelector(".header-lib__btn-queue"),paginationWrap:document.querySelector(".pagination-container")};var o=a("sRYpV"),s=a("3dy0j");async function c(t){const e=t.map((t=>function(t){const{poster_path:e,id:n,title:a,genre_ids:i,release_date:r,vote_average:o}=t,c="https://image.tmdb.org/t/p/w500";let l="";const u=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${t.id}">\n        <img src="${t.poster_path?c+t.poster_path:s.defaultPoster.src}" alt="${t.title?t.title:"Unknown"}" class="main-section__image" loading="lazy">\n  <p class="main-section__popup-title"> <span class = "popUp-title">About</span> <br/>${t.overview?t.overview:"No description"}</p>\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${t.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${t.title?t.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${t.genre_ids?l:"Unknown"} | ${t.release_date?t.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${t.vote_average?t.vote_average.toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`,m=()=>`\n  <li class="main-section__card-conteiner">\n  <div class="main-section__card main-section__popup" data-film-id="${t.id}">\n        <img src="${t.poster_path?c+t.poster_path:s.defaultPoster.src}" alt="${t.title?t.title:"Unknown"}" class="main-section__image" loading="lazy">\n  </div>\n      <div class="main-section__card main-section__cards" data-film-id="${t.id}">\n\t\t\t\t\t<h2 class="main-section__card-title">${t.title?t.title:"Unknown title"}</h2>\n                   \n\t\t\t\t\t<p class="main-section__description">${t.genres?l:"Unknown"} | ${t.release_date?t.release_date.slice(0,4):"n/a"}\n\t\t\t\t\n                <span class="main-section__card-rating">${t.vote_average?Number(t.vote_average).toFixed(1):"0.0"}</span>\n                </p>\n      </div>             \n    </div>`;if(!i)return l=t.genres,m();l=i.length<=3?i.map((t=>d.get(t))).join(", "):d.get(i[0])+", "+d.get(i[1])+", Other";return u()}(t))).join("");r.mainContainerEl.innerHTML="",r.mainContainerEl.insertAdjacentHTML("beforeend",e)}const d=new Map;(0,o.searchGenres)().then((t=>t.genres.map((({id:t,name:e})=>{d.set(t,e)}))));var l;l=a("aNJCr").getBundleURL("2Y0K8")+a("iE7OH").resolve("5tlci");const u=()=>{const t=document.createElement("img");t.src=new URL(l),t.alt="Travolta from Pulp Fiction is searching for something",t.class="not-found",r.mainContainerEl.innerHTML=`<div class="no-movies-wrap">\n                ${t.outerHTML}\n                <p>No movies here yet</p>\n            </div>`},m=async t=>{try{const e=localStorage.getItem(t);if(!e||e.length<=2)return void u();let n=await JSON.parse(e);return n.length<20&&!r.paginationWrap.classList.contains("visually-hidden")?r.paginationWrap.classList.add("visually-hidden"):r.paginationWrap.classList.remove("visually-hidden"),console.log("movieList:",n),c(n)}catch(t){console.error("Error: ",t.message)}};r.watchedBtn.addEventListener("click",(async()=>{if(!r.watchedBtn.classList.contains("header-lib__btn--current")){await m(i.WATCHED_LIST);try{const t=r.watchedBtn.textContent;await localStorage.setItem("active-tab",JSON.stringify(t))}catch(t){console.error("Error: ",t.message)}r.queueBtn.classList.toggle("header-lib__btn--current"),r.watchedBtn.classList.toggle("header-lib__btn--current")}})),r.queueBtn.addEventListener("click",(async()=>{if(!r.queueBtn.classList.contains("header-lib__btn--current")){await m(i.QUEUE_LIST);try{const t=r.queueBtn.textContent;await localStorage.setItem("active-tab",JSON.stringify(t))}catch(t){console.error("Error: ",t.message)}r.watchedBtn.classList.toggle("header-lib__btn--current"),r.queueBtn.classList.toggle("header-lib__btn--current")}})),(async()=>{try{const t=await JSON.parse(localStorage.getItem("active-tab"));if(t===r.queueBtn.textContent)return r.queueBtn.classList.toggle("header-lib__btn--current"),await m(i.QUEUE_LIST);if(t===r.watchedBtn.textContent)r.watchedBtn.classList.toggle("header-lib__btn--current"),await m(i.WATCHED_LIST)}catch(t){console.log(t.message)}})();const g=document.querySelector('[data-index="1"]'),_=document.querySelector('[data-index="2"]'),p=document.querySelector('[data-index="3"]'),h=document.querySelector('[data-index="4"]'),b=document.querySelector('[data-index="5"]'),x=document.querySelector(".first-button"),v=document.querySelector(".last-button"),C=document.querySelector(".pagination-container"),f=document.querySelector(".arrow-right"),y=document.querySelector(".arrow-left"),L=document.querySelector("#previous"),w=document.querySelector("#after"),S=document.querySelector(".main-container");C.addEventListener("click",(function(t){if("BUTTON"===t.target.tagName){Number(t.target.textContent)&&(q=Number(t.target.textContent)),L.hidden=!0,w.hidden=!0,t.target.classList.contains("pagination-button")&&(B.forEach((t=>t.classList.remove("pagination--current"))),t.target.classList.add("pagination--current")),t.target.classList.contains("arrow-right")&&q<E&&(B.forEach((t=>t.classList.remove("pagination--current"))),g.classList.add("pagination--current"),g.textContent=Number(g.textContent)+5,_.textContent=Number(_.textContent)+5,p.textContent=Number(p.textContent)+5,h.textContent=Number(h.textContent)+5,b.textContent=Number(b.textContent)+5,q=Number(g.textContent)),t.target.classList.contains("arrow-left")&&q>=5&&(B.forEach((t=>t.classList.remove("pagination--current"))),g.textContent=Number(g.textContent)-5,_.textContent=Number(_.textContent)-5,p.textContent=Number(p.textContent)-5,h.textContent=Number(h.textContent)-5,b.textContent=Number(b.textContent)-5,b.classList.add("pagination--current"),q=Number(b.textContent)),t.target.classList.contains("first-button")&&(B.forEach((t=>t.classList.remove("pagination--current"))),g.textContent=1,_.textContent=2,p.textContent=3,h.textContent=4,b.textContent=5,g.classList.add("pagination--current"),q=Number(g.textContent),y.hidden=!0,L.hidden=!0,x.hidden=!0),t.target.classList.contains("last-button")&&(B.forEach((t=>t.classList.remove("pagination--current"))),g.textContent=Number(v.textContent)-4,_.textContent=Number(v.textContent)-3,p.textContent=Number(v.textContent)-2,h.textContent=Number(v.textContent)-1,b.textContent=v.textContent,b.classList.add("pagination--current"),q=Number(b.textContent),f.hidden=!0,w.hidden=!0,v.hidden=!0),Number(q)>5?(y.hidden=!1,L.hidden=!1,x.hidden=!1):(y.hidden=!0,L.hidden=!0,x.hidden=!0),Number(q)<E-4&&(f.hidden=!1,w.hidden=!1,v.hidden=!1),S.scrollIntoView({behavior:"smooth"}),N&&N()}}));let N,q=1,E=1e3,B=document.querySelectorAll(".pagination-button");L.hidden=!0,y.hidden=!0,x.hidden=!0,console.log("paginationInit"),console.log("subscriber",N),console.log("CurrentPage",q),a("jjmYL"),a("8Qb9c"),a("j1lrD")}();
//# sourceMappingURL=library.729dd251.js.map
